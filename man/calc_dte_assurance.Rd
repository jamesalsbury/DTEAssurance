% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{calc_dte_assurance}
\alias{calc_dte_assurance}
\title{Calculate Assurance for a Trial with a Delayed Treatment Effect}
\usage{
calc_dte_assurance(
  n_c,
  n_t,
  control_model,
  effect_model,
  censoring_model,
  recruitment_model,
  analysis_model,
  n_sims = 1000
)
}
\arguments{
\item{n_c}{Vector of control group sample sizes}

\item{n_t}{Vector of treatment group sample sizes}

\item{control_model}{A named list specifying the control arm survival distribution:
\itemize{
\item \code{dist}: Distribution type ("Exponential" or "Weibull")
\item \code{parameter_mode}: Either "Fixed" or "Distribution"
\item \code{fixed_type}: If "Fixed", specify as "Parameters" or "Landmark"
\item \code{lambda}: Scale parameter (for Exponential or Weibull)
\item \code{gamma}: Shape parameter (Weibull only)
\item \code{t1}, \code{t2}: Landmark times (used if \code{fixed_type = "Landmark"})
\item \code{surv_t1}, \code{surv_t2}: Survival probabilities at \code{t1} and \code{t2}
\item \code{t1_Beta_a}, \code{t1_Beta_b}: Beta prior parameters for survival at \code{t1}
\item \code{diff_Beta_a}, \code{diff_Beta_b}: Beta prior parameters for survival difference between \code{t1} and \code{t2}
}}

\item{effect_model}{A named list specifying beliefs about the treatment effect:
\itemize{
\item \code{delay_SHELF}: SHELF object encoding beliefs about delay time
\item \code{delay_dist}: Distribution type for delay ("hist" by default)
\item \code{HR_SHELF}: SHELF object encoding beliefs about post-delay hazard ratio
\item \code{HR_dist}: Distribution type for hazard ratio ("hist" by default)
\item \code{P_S}: Probability that survival curves separate
\item \code{P_DTE}: Probability of delayed separation, conditional on separation
}}

\item{censoring_model}{A named list specifying the censoring mechanism:
\itemize{
\item \code{method}: One of "Time", "Events", or "IF"
\item \code{time}: Fixed follow-up time (used if \code{method = "Time"})
\item \code{events}: Number of events to censor at (used if \code{method = "Events"})
\item \code{IF}: Information fraction for censoring (used if \code{method = "IF"})
}}

\item{recruitment_model}{A named list specifying the recruitment process:
\itemize{
\item \code{method}: "power" or "PWC" (piecewise constant)
\item \code{period}: Recruitment period (used for power model)
\item \code{power}: Accrual shape parameter (used for power model)
\item \code{rate}: Comma-separated rates (used for PWC model)
\item \code{duration}: Comma-separated durations (used for PWC model)
}}

\item{analysis_model}{A named list specifying the statistical test and decision rule:
\itemize{
\item \code{method}: "LRT" (default), "WLRT", or "MW"
\item \code{alpha}: Type I error rate (default = 0.025)
\item \code{alternative_hypothesis}: "one.sided" or "two.sided"
\item \code{rho}, \code{gamma}: Fleming-Harrington parameters (WLRT)
\item \code{t_star}, \code{s_star}: Modestly weighted test parameters (MW)
\item \code{success_threshold_HR}: Optional threshold for declaring success (e.g., HR < 0.8)
}}

\item{n_sims}{Number of simulations to run (default = 1000)}
}
\value{
A named list containing operating characteristics:
\itemize{
\item \code{assurance}: Estimated assurance (probability of success under prior uncertainty)
\item \code{CI}: 95\% confidence interval for assurance
\item \code{duration}: Mean trial duration
\item \code{sample_size}: Mean sample size
\item Additional diagnostics if \code{success_threshold_HR} is specified
}
}
\description{
Calculate Assurance for a Trial with a Delayed Treatment Effect
}
